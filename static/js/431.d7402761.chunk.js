"use strict";(self.webpackChunktask_pro=self.webpackChunktask_pro||[]).push([[431],{94079:(n,e,t)=>{t.d(e,{J:()=>i});var r,o=t(57528);const i=t(1529).I4.div(r||(r=(0,o.A)(["\n  height: calc(100vh - 60px);\n  width: 100vw;\n  padding: 14px 10px 24px 10px;\n  background: ",";\n\n  @media screen and (min-width: 375px) {\n    padding: 14px 20px 24px 20px;\n  }\n\n  @media screen and (-webkit-min-device-pixel-ratio: 2) {\n    background: ",";\n  }\n\n  @media screen and (min-width: 768px) {\n    padding: 26px 32px 52px 32px;\n    height: calc(100vh - 68px);\n    background: ",";\n  }\n\n  @media screen and (min-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {\n    background: ",";\n  }\n\n  @media screen and (min-width: 1440px) {\n    width: calc(100vw - 260px);\n    padding: 10px 24px 36px 24px;\n    background: ",";\n  }\n\n  @media screen and (min-width: 1440px) and (-webkit-min-device-pixel-ratio: 2) {\n    background: ",";\n  }\n"])),n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundMobileURL,")"):"var(--default-bg-color)"},n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundMobile2xURL,")"):"var(--default-bg-color)"},n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundTabletURL,")"):"var(--default-bg-color)"},n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundTablet2xURL,")"):"var(--default-bg-color)"},n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundDesktopURL,")"):"var(--default-bg-color)"},n=>{let{$bg:e}=n;return e?"center / cover no-repeat url(".concat(e.backgroundDesktop2xURL,")"):"var(--default-bg-color)"})},99678:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Re});var r=t(65043),o=t(83003),i=t(29001),a=t(19384),l=t(57578),d=t(59564),s=t(44652),c=t(94079),p=t(97950),u=t(74117),x=t(23585),h=t(1648),g=t(32099);const v=n=>n.columns.items,b={selectColumns:v,selectColumnsLoading:n=>n.columns.isLoading,selectColumnsError:n=>n.columns.error,selectColumnById:(0,g.Mz)([v,(n,e)=>e],(n,e)=>n.find(n=>n._id===e)||null),selectSortedColumns:(0,g.Mz)([v],n=>[...n].sort((n,e)=>n.order-e.order))};var m,f,y,k,w,j,A,C,I,D=t(13994),L=t(23768),T=t(78250),$=t(74135),M=t(11837),_=t(57528),z=t(1529);const S=(0,z.AH)(m||(m=(0,_.A)(["\n  border: 1px solid var(--accent-color);\n  border-radius: 8px;\n  padding: 14px 18px;\n  color: var(--text-color);\n  background-color: transparent;\n  box-shadow: 0 4px 16px 0 rgba(22, 22, 22, 0.08);\n  opacity: 0.4;\n  transition: opacity var(--easedTransition);\n\n  &:focus {\n    opacity: 1;\n    outline: none;\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"]))),R=z.I4.div(f||(f=(0,_.A)(["\n  display: flex;\n  flex-direction: column;\n\n  p {\n    font-weight: 500;\n    font-size: 18px;\n    margin-bottom: 24px;\n  }\n"]))),E=z.I4.form(y||(y=(0,_.A)(["\n  display: flex;\n  flex-direction: column;\n\n  input[type='text'] {\n    ","\n    margin-bottom: 20px;\n\n    &.invalid {\n      border: 2px solid var(--error-color);\n    }\n  }\n\n  textarea {\n    ","\n    line-height: 1.29;\n    margin-bottom: 24px;\n    resize: none;\n    height: 154px;\n  }\n\n  label {\n    font-size: 12px;\n    letter-spacing: -0.02em;\n    color: var(--lightgrey-text-color);\n    display: flex;\n    flex-direction: column;\n  }\n"])),S,S),B=z.I4.label(k||(k=(0,_.A)(["\n  position: relative;\n\n  p {\n    font-size: 10px;\n    position: absolute;\n    bottom: -20px;\n    color: var(--error-color);\n  }\n"]))),U=z.I4.ul(w||(w=(0,_.A)(["\n  display: flex;\n  gap: 8px;\n  margin-top: 4px;\n\n  li {\n    position: relative;\n  }\n"]))),N=z.I4.input(j||(j=(0,_.A)(["\n  position: absolute;\n  cursor: pointer;\n  z-index: 3;\n  top: 0;\n  opacity: 0;\n\n  &:checked + label::before {\n    box-shadow: ",";\n    opacity: 1;\n    border: 2px solid var(--modal-background);\n  }\n"])),n=>{let{$color:e}=n;return"0 0 1px var(--modal-background), 0 0 1px 1px var(--priority-".concat(e,")")}),F=z.I4.label(A||(A=(0,_.A)(["\n  margin-bottom: 14px;\n\n  &::before {\n    content: '';\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background-color: ",";\n    cursor: pointer;\n    transition: outline 50ms linear;\n  }\n"])),n=>{let{$color:e}=n;return"var(--priority-".concat(e,")")}),O=z.I4.div(C||(C=(0,_.A)(["\n  display: flex;\n  align-items: center;\n  gap: 3px;\n\n  button {\n    display: flex;\n    align-items: center;\n    padding: 0;\n    padding-top: 5px;\n    background-color: transparent;\n\n    svg {\n      fill: var(--accent-color);\n    }\n  }\n"]))),P=z.I4.button(I||(I=(0,_.A)(["\n  font-weight: 500;\n  border-radius: 8px;\n  padding: 10px;\n  background-color: var(--accent-color);\n  color: var(--btn-icon-bg);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  transition: var(--easedTransition);\n  margin-top: ",";\n\n  @media screen and (min-width: 1440px) {\n    &:hover,\n    &:focus {\n      opacity: 0.7;\n    }\n  }\n\n  span {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    padding: 7px;\n    background-color: var(--btn-icon-bg);\n\n    svg path {\n      stroke: var(--btn-icon-color);\n    }\n  }\n"])),n=>{let{$variant:e}=n;return"column"===e?"24px":"40px"});var W=t(70579);const V=n=>{let{variant:e,closeModal:t,columnId:a,columnName:l}=n;const[s,c]=(0,r.useState)(!1),[p,x]=(0,r.useState)(""),{boardId:h}=(0,i.g)(),g=(0,o.wA)(),{t:v}=(0,u.Bd)(),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{var n;null===(n=b.current)||void 0===n||n.focus()},[]);return(0,W.jsx)(M.A,{width:350,onClose:t,children:(0,W.jsxs)(R,{children:[(0,W.jsx)("p",{children:v("add"===e?"columns.modals.addTitle":"columns.modals.editTitle")}),(0,W.jsxs)(E,{onSubmit:async n=>{n.preventDefault();const{value:r}=n.target.elements.title;if(r.trim())try{"add"===e?await g((0,d.cq)({boardId:h,title:r})).unwrap():await g((0,d.ZD)({id:a,editedColumn:{title:r}})).unwrap(),t()}catch(o){L.Ay.error((null===o||void 0===o?void 0:o.message)||"Action failed",T.E2)}else(0,L.Ay)(v("columns.modals.toast.error"),T.E2)},children:[(0,W.jsxs)(B,{children:[(0,W.jsx)("input",{className:p,ref:b,type:"text",name:"title",placeholder:"add"===e?v("columns.modals.input"):l,defaultValue:"add"===e?"":l,maxLength:25,onChange:n=>(0,$.dM)(n,c,x)}),s&&(0,W.jsx)("p",{children:v("toast.maxTitle")})]}),(0,W.jsxs)(P,{type:"submit",$variant:"column",children:[(0,W.jsx)("span",{children:(0,W.jsx)(D.A,{width:14,height:14})}),v("add"===e?"columns.modals.addTitle":"columns.modals.editTitle")]})]})]})})};var q=t(89379),H=t(41024);const K=n=>n.cards||{},Z=n=>K(n).items||[],J={selectAllCards:Z,selectFilteredCards:n=>K(n).filteredCards||[],selectCardsLoading:n=>K(n).isLoading,selectCardsError:n=>K(n).error,selectCardsByColumnId:(0,g.Mz)([Z,(n,e)=>e],(n,e)=>n.filter(n=>n.column===e)),selectCardById:(0,g.Mz)([Z,(n,e)=>e],(n,e)=>n.find(n=>n._id===e)),selectCardsByPriority:(0,g.Mz)([Z,(n,e)=>e],(n,e)=>n.filter(n=>n.priority===e))};var G=t(98721),Q=t(90426),Y=t(50423),X=t(58069),nn=t(44978),en=t(31899),tn=t.n(en),rn=t(2533);t(25015);const on=r.forwardRef((n,e)=>{let{selectedDate:t,setDate:r,toggleCalendar:o}=n;const i=new Date;return(0,en.setDefaultLocale)("en"),(0,en.registerLocale)("uk",rn.uk),(0,W.jsx)(tn(),{ref:e,locale:"uk"===nn.Ay.language||"uk-UA"===nn.Ay.language?"uk":"en",selected:t,onChange:n=>r(n),minDate:i,calendarStartDay:1,dateFormat:"EEEE, d",onCalendarOpen:()=>o(!0),onCalendarClose:()=>o(!1)})}),an=n=>{let{columnId:e,variant:t,closeCardModal:a,activeCard:l}=n;const[d,c]=(0,r.useState)("add"===t?"without priority":l.priority),[p,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)("add"===t?new Date:null!==l&&void 0!==l&&l.deadline||null!==l&&void 0!==l&&l.dueDate?new Date(l.deadline||l.dueDate):new Date),[v,b]=(0,r.useState)(!1),[m,f]=(0,r.useState)(""),y=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{var n;null===(n=k.current)||void 0===n||n.focus()},[]);const{boardId:w}=(0,i.g)(),{t:j}=(0,u.Bd)(),A=(0,o.wA)();return(0,W.jsx)(M.A,{width:350,onClose:a,children:(0,W.jsxs)(R,{children:[(0,W.jsx)("p",{children:j("add"===t?"cards.modals.addTitle":"cards.modals.editTitle")}),(0,W.jsxs)(E,{onSubmit:async n=>{n.preventDefault();const{title:r,description:o}=n.target.elements,i={title:r.value.trim(),description:o.value.trim(),priority:d,deadline:(0,$.bc)(h),column:e,board:w},{isValid:c,error:p}=(0,X.Hr)(i);if(c)if((0,$.i3)(i.deadline))L.Ay.error(j("cards.modals.toast.invalidDate"),T.E2);else try{"add"===t?(await A((0,s.gm)(i)).unwrap(),L.Ay.success(j("cards.modals.toast.add.success"),T.E2)):(await A((0,s.Lo)({cardId:l._id,editedCard:i})).unwrap(),L.Ay.success(j("cards.modals.toast.edit.success"),T.E2)),a()}catch(u){const n="string"===typeof u?u:(null===u||void 0===u?void 0:u.message)||j("cards.modals.toast.error");L.Ay.error(n,T.E2)}else L.Ay.error(p,T.E2)},children:[(0,W.jsxs)(B,{children:[(0,W.jsx)("input",{className:m,ref:k,type:"text",name:"title",placeholder:j("cards.modals.title"),defaultValue:"add"===t?"":l.title,autoComplete:"off",maxLength:25,onChange:n=>(0,$.dM)(n,b,f)}),v&&(0,W.jsx)("p",{children:j("toast.maxTitle")})]}),(0,W.jsx)("textarea",{name:"description",placeholder:j("cards.modals.description"),defaultValue:"add"===t?"":l.description,autoComplete:"off"}),(0,W.jsxs)("label",{children:[j("cards.modals.label"),(0,W.jsx)(U,{children:T.$N.map(n=>{let{id:e,priority:t,color:r}=n;return(0,W.jsxs)("li",{children:[(0,W.jsx)(N,{$color:r,id:"priority-".concat(e),type:"radio",name:"priority",value:t,checked:t===d,onChange:n=>c(n.target.value)}),(0,W.jsx)(F,{htmlFor:"priority-".concat(e),$color:r})]},e)})})]}),(0,W.jsx)("label",{children:j("cards.modals.deadline")}),(0,W.jsxs)(O,{children:[p?(0,W.jsx)("button",{type:"button",onClick:()=>{var n;return null===(n=y.current)||void 0===n?void 0:n.setOpen(!1)},children:(0,W.jsx)(Y.Ik,{})}):(0,W.jsx)("button",{type:"button",onClick:()=>{var n;return null===(n=y.current)||void 0===n?void 0:n.setOpen(!0)},children:(0,W.jsx)(Y.pte,{})}),(0,W.jsx)(on,{selectedDate:h,setDate:g,toggleCalendar:x,ref:y})]}),(0,W.jsxs)(P,{type:"submit",children:[(0,W.jsx)("span",{children:(0,W.jsx)(D.A,{width:14,height:14})}),j("add"===t?"cards.modals.addButton":"cards.modals.editButton")]})]})]})})};var ln=t(59474);const dn=n=>{let{width:e,height:t,fillColor:r,strokeColor:o}=n;return(0,W.jsxs)("svg",{width:e||"14px",height:t||"14px",viewBox:"0 0 16 17",fill:r||"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,W.jsx)("path",{d:"M2.22559 5.16665C3.37828 3.17398 5.53276 1.83331 8.00037 1.83331C11.6823 1.83331 14.667 4.81808 14.667 8.49998C14.667 12.1819 11.6823 15.1666 8.00037 15.1666C5.53276 15.1666 3.37828 13.826 2.22559 11.8333",stroke:o||null,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,W.jsx)("path",{d:"M8 11.1666L10.6667 8.49998L8 5.83331",stroke:o||null,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,W.jsx)("path",{d:"M1.33301 8.5L10.6663 8.5",stroke:o||null,strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})]})},sn=n=>{let{width:e,height:t,fillColor:r,strokeColor:o}=n;return(0,W.jsx)("svg",{width:e||"14px",height:t||"14px",viewBox:"0 0 14 16",fill:r||"none",stroke:o||null,xmlns:"http://www.w3.org/2000/svg",children:(0,W.jsx)("path",{d:"M5.23597 14C5.70606 14.4149 6.32355 14.6667 6.99985 14.6667C7.67615 14.6667 8.29365 14.4149 8.76373 14M10.9999 5.33337C10.9999 4.27251 10.5784 3.25509 9.82828 2.50495C9.07813 1.7548 8.06072 1.33337 6.99985 1.33337C5.93898 1.33337 4.92157 1.7548 4.17142 2.50495C3.42128 3.25509 2.99985 4.27251 2.99985 5.33337C2.99985 7.3935 2.48016 8.80401 1.89963 9.73698C1.40993 10.524 1.16509 10.9174 1.17407 11.0272C1.18401 11.1488 1.20976 11.1951 1.3077 11.2678C1.39616 11.3334 1.79491 11.3334 2.59242 11.3334H11.4073C12.2048 11.3334 12.6035 11.3334 12.692 11.2678C12.7899 11.1951 12.8157 11.1488 12.8256 11.0272C12.8346 10.9174 12.5898 10.524 12.1001 9.73698C11.5195 8.80401 10.9999 7.3935 10.9999 5.33337Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};var cn;const pn=z.I4.div(cn||(cn=(0,_.A)(["\n  position: absolute;\n  top: 20px;\n  left: -400%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  gap: 8px;\n  padding: 18px;\n  width: 130px;\n  height: 0;\n  border: none;\n  border-radius: 8px;\n  background-color: transparent;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity var(--easedTransition), visibility var(--easedTransition),\n    height var(--easedTransition);\n  z-index: 3;\n\n  &:hover,\n  &:focus {\n    background-color: var(--popup-bg);\n    border: 1px solid var(--text-color);\n    opacity: 1;\n    visibility: visible;\n    height: auto;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 18px;\n    row-gap: 10px;\n    font-size: 11px;\n    color: var(--text-color);\n    background-color: transparent;\n    padding: 0;\n    width: 100%;\n    overflow: hidden;\n    transition: color var(--easedTransition);\n\n    span {\n      max-width: 80px;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    }\n\n    &:hover,\n    &:focus {\n      color: var(--accent-color);\n    }\n\n    svg path {\n      transition: stroke var(--easedTransition);\n    }\n\n    &:hover svg path,\n    &:focus svg path {\n      stroke: var(--accent-color);\n    }\n  }\n"]))),un=n=>{let{allColumns:e,columnId:t,moveCard:r}=n;return(0,W.jsx)(pn,{id:"move-popup",children:e.filter(n=>n._id!==t).map(n=>(0,W.jsxs)("button",{type:"button",title:"".concat(n.title),onClick:()=>r(n._id),children:[(0,W.jsxs)("span",{children:[" ",n.title]}),(0,W.jsx)(dn,{width:16,height:16,strokeColor:"var(--icon-stroke-color)"})]},n._id))})};var xn,hn,gn,vn,bn,mn,fn,yn,kn,wn;const jn=(0,z.i7)(xn||(xn=(0,_.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  50% {\n    transform: rotate(15deg);\n  }\n\n  100% {\n    transform: rotate(-15deg);\n  }\n"]))),An=z.I4.div(hn||(hn=(0,_.A)(["\n  width: 100%;\n  min-height: 139px;\n  border-radius: 10px;\n  padding: 24px 14px;\n  background-color: var(--card-bg);\n  list-style-type: none;\n  border-left: ",";\n  word-break: break-all;\n  cursor: grab;\n  transition: opacity 100ms linear;\n\n  &:hover,\n  &:focus {\n    opacity: 0.9 !important;\n  }\n\n  & > div {\n    display: flex;\n    align-items: flex-ends;\n    justify-content: space-between;\n  }\n\n  li {\n    position: relative;\n  }\n\n  @media screen and (min-width: 375px) {\n    width: 330px;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 335px;\n  }\n"])),n=>{let{$label:e}=n;return"7px solid var(--priority-".concat(e,")")}),Cn=z.I4.h4(gn||(gn=(0,_.A)(["\n  margin-bottom: 8px;\n  color: var(--text-color);\n"]))),In=z.I4.p(vn||(vn=(0,_.A)(["\n  width: 290px;\n  max-width: 100%;\n  font-size: 12px;\n  line-height: 1.33333;\n  color: var(--text-color);\n  opacity: 0.7;\n  margin-bottom: 14px;\n  cursor: pointer;\n"]))),Dn=z.I4.div(bn||(bn=(0,_.A)(["\n  display: flex;\n  gap: 14px;\n\n  div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  h5 {\n    font-weight: 400;\n    font-size: 8px;\n    color: var(--text-color);\n    opacity: 0.5;\n    margin-bottom: 4px;\n  }\n"]))),Ln=z.I4.span(mn||(mn=(0,_.A)(["\n  font-size: 9px;\n  text-decoration: ",";\n  color: ",";\n\n  @media screen and (min-width: 768px) {\n    font-size: 10px;\n  }\n"])),n=>{let{$isDeadlinePassed:e}=n;return e?"line-through":"none"},n=>{let{$isDeadlinePassed:e}=n;return e?"var(--error-color)":"var(--text-color)"}),Tn=z.I4.p(fn||(fn=(0,_.A)(["\n  font-size: 9px;\n  color: var(--text-color);\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  text-transform: capitalize;\n\n  &::before {\n    content: '';\n    display: block;\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background-color: ",";\n  }\n\n  @media screen and (min-width: 768px) {\n    font-size: 10px;\n  }\n"])),n=>{let{$label:e}=n;return"var(--priority-".concat(e,")")}),$n=z.I4.ul(yn||(yn=(0,_.A)(["\n  display: flex;\n  align-items: flex-end;\n  gap: 7px;\n"]))),Mn=z.I4.div(kn||(kn=(0,_.A)(["\n  position: absolute;\n  top: -155%;\n  left: -270%;\n  width: 110px;\n  height: 30px;\n  border-radius: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 9px;\n  color: var(--text-color);\n  opacity: 0;\n  background-color: var(--background-color);\n  box-shadow: var(--box-shadow);\n  visibility: hidden;\n  transition: opacity var(--easedTransition), visibility var(--easedTransition);\n"]))),_n=z.I4.button(wn||(wn=(0,_.A)(["\n  background-color: transparent;\n  padding: 0;\n\n  &#deadline-bell:hover + #deadline-modal,\n  &#deadline-bell:focus + #deadline-modal {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  &#move-card:hover + #move-popup,\n  &#move-card:focus + #move-popup {\n    background-color: var(--popup-bg);\n    border: 1px solid var(--text-color);\n    opacity: 1;\n    visibility: visible;\n    height: auto;\n  }\n\n  &#deadline-bell svg {\n    animation: "," 1s ease-in-out infinite alternate;\n    filter: drop-shadow(1px 1px 3px var(--accent-color));\n  }\n\n  &#deadline-bell svg path {\n    opacity: 1;\n    stroke: var(--accent-color);\n  }\n\n  svg {\n    transition: filter var(--easedTransition);\n  }\n\n  svg path {\n    stroke: var(--icon-stroke-color);\n    opacity: 50%;\n    transition: stroke var(--easedTransition), opacity var(--easedTransition);\n  }\n\n  &:hover svg path {\n    stroke: var(--accent-color);\n    opacity: 100%;\n  }\n\n  &:hover svg {\n    filter: drop-shadow(1px 1px 5px var(--accent-color));\n  }\n"])),jn),zn=n=>{let{allColumns:e,columnId:t,card:i}=n;const[a,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),{t:g}=(0,u.Bd)(),v=(0,o.wA)(),b=(null===i||void 0===i?void 0:i._id)||"temp-card-".concat(Date.now()),{setNodeRef:m,attributes:f,listeners:y,transform:k,transition:w,isDragging:j,isSorting:A}=(0,h.gl)({id:b,data:{card:i||{},type:"Task"},transition:{duration:300,easing:"var(--dnd-transition)"}}),C={transition:w,transform:H.Ks.Transform.toString(k)},I=(0,q.A)((0,q.A)({},C),{},{opacity:A?"30%":"100%"});return i&&i._id?j?(0,W.jsx)(An,(0,q.A)((0,q.A)((0,q.A)({ref:m},y),f),{},{style:I})):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(An,(0,q.A)((0,q.A)((0,q.A)({ref:m},y),f),{},{style:I,$label:(0,$.bK)(i.priority),children:[(0,W.jsx)(Cn,{children:i.title}),(0,W.jsx)(In,{onClick:()=>{l(!a)},children:a?i.description:(0,$.YU)(i.description)}),(0,W.jsx)("hr",{}),(0,W.jsxs)("div",{children:[(0,W.jsxs)(Dn,{children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:g("cards.priority")}),(0,W.jsx)(Tn,{$label:(0,$.bK)(i.priority),children:"en"===nn.Ay.language?i.priority:(0,$.rh)(i.priority)})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("h5",{children:g("cards.deadline")}),(0,W.jsx)(Ln,{$isDeadlinePassed:(0,$.i3)(new Date(i.deadline)),children:(0,$.Yq)((0,$.bc)(i.deadline))})]})]}),(0,W.jsxs)($n,{children:[(0,$.sq)(i.deadline)&&(0,W.jsxs)("li",{children:[(0,W.jsx)(_n,{id:"deadline-bell",type:"button","aria-label":"Deadline is today",onClick:n=>n.target.style.animation="none",children:(0,W.jsx)(sn,{width:16,height:16,strokeColor:"var(--icon-stroke-color)"})}),(0,W.jsx)(Mn,{id:"deadline-modal",children:(0,W.jsx)("p",{children:g("cards.deadlineToday")})})]}),e.length>=2&&(0,W.jsxs)("li",{children:[(0,W.jsx)(_n,{id:"move-card",type:"button","aria-label":"Move card",children:(0,W.jsx)(dn,{width:16,height:16,strokeColor:"var(--icon-stroke-color)"})}),(0,W.jsx)(un,{allColumns:e,columnId:t,moveCard:n=>{null!==i&&void 0!==i&&i._id&&v((0,s.sQ)({cardId:i._id,newColumn:n,oldColumn:t}))}})]}),(0,W.jsx)("li",{children:(0,W.jsx)(_n,{type:"button","aria-label":"Edit card",onClick:()=>{x(!0)},children:(0,W.jsx)(G.A,{width:16,height:16,strokeColor:"var(--icon-stroke-color)"})})}),(0,W.jsx)("li",{children:(0,W.jsx)(_n,{type:"button","aria-label":"Delete card",onClick:()=>c(!0),children:(0,W.jsx)(Q.A,{width:16,height:16,strokeColor:"var(--icon-stroke-color)"})})})]})]})]})),p&&(0,W.jsx)(an,{activeCard:i,columnId:t,variant:"edit",closeCardModal:()=>x(!1)}),d&&(0,W.jsx)(ln.A,{onClose:()=>c(!1),onConfirm:()=>(n=>{n&&v((0,s.GO)({cardId:n,columnId:t}))})(i._id)})]}):null};var Sn,Rn,En,Bn,Un;const Nn=z.Ay.div(Sn||(Sn=(0,_.A)(["\n  display: flex;\n  height: 100%;\n  padding-top: 39px;\n  padding-bottom: 24px;\n  overflow-x: auto;\n  scroll-behavior: smooth !important;\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 12px;\n  }\n\n  &::-webkit-scrollbar {\n    height: 12px;\n  }\n\n  &::-webkit-scrollbar-track {\n    border-radius: 12px;\n  }\n\n  @media screen and (min-width: 768px) {\n    padding-top: 26px;\n    padding-bottom: 52px;\n  }\n\n  @media screen and (min-width: 1440px) {\n    padding-top: 10px;\n    padding-bottom: 36px;\n  }\n"]))),Fn=z.Ay.div(Rn||(Rn=(0,_.A)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  border-radius: 8px;\n  padding: 10px 30px;\n  transform: translate(-50%, -50%);\n  background-color: var(--background-color);\n\n  @media screen and (min-width: 1440px) {\n    transform: unset;\n  }\n"]))),On=z.Ay.ul(En||(En=(0,_.A)(["\n  display: flex;\n  gap: 12px;\n  margin-right: 34px;\n  scroll-behavior: smooth;\n\n  @media screen and (min-width: 375px) {\n    gap: 34px;\n  }\n"]))),Pn=z.Ay.span(Bn||(Bn=(0,_.A)(["\n  margin-right: 8px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 28px;\n  height: 28px;\n  border-radius: 6px;\n  background-color: var(--plus-icon-bg);\n  transition: all var(--easedTransition);\n\n  & svg {\n    stroke: var(--card-bg);\n    transition: all var(--easedTransition);\n  }\n"]))),Wn=z.Ay.button(Un||(Un=(0,_.A)(["\n  min-width: 100%;\n  height: 56px;\n  border: none;\n  border-radius: 8px;\n  background-color: var(--card-bg);\n  color: inherit;\n  font-weight: 500;\n  transition: all var(--easedTransition);\n\n  &:hover {\n    background-color: var(--plus-btn-hover);\n\n    "," {\n      background-color: var(--card-bg);\n      & svg {\n        stroke: var(--plus-icon-bg);\n      }\n    }\n  }\n\n  @media screen and (min-width: 375px) {\n    min-width: 335px;\n  }\n"])),Pn);var Vn,qn,Hn,Kn,Zn,Jn,Gn;const Qn=z.Ay.div(Vn||(Vn=(0,_.A)(["\n  width: calc(100% - 50px);\n  min-width: 270px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  opacity: ",";\n  transform: ",";\n  box-shadow: ",";\n  transition: transform 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;\n  touch-action: none;\n  cursor: ",";\n\n  @media screen and (min-width: 375px) {\n    width: 335px;\n  }\n"])),n=>n.$isDragging?.6:1,n=>n.$isDragging?"scale(1.02)":"none",n=>n.$isDragging?"0px 8px 16px rgba(0, 0, 0, 0.15)":"none",n=>n.$isDragging?"grabbing":"auto"),Yn=z.Ay.div(qn||(qn=(0,_.A)(["\n  min-width: 100%;\n  min-height: 56px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  margin-bottom: 14px;\n  border-radius: 8px;\n  background-color: var(--card-bg);\n  font-weight: 500;\n  cursor: grab;\n  user-select: none;\n  touch-action: none;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  & h3 {\n    font-size: 14px;\n    font-weight: 500;\n  }\n\n  @media screen and (min-width: 375px) {\n    min-width: 335px;\n  }\n"]))),Xn=z.Ay.ul(Hn||(Hn=(0,_.A)(["\n  display: flex;\n"]))),ne=z.Ay.button(Kn||(Kn=(0,_.A)(["\n  background-color: transparent;\n  padding: 4px;\n\n  svg {\n    transition: filter var(--easedTransition);\n  }\n\n  svg path {\n    stroke: var(--icon-stroke-color);\n    opacity: 50%;\n    transition: stroke var(--easedTransition), opacity var(--easedTransition);\n  }\n\n  &:hover svg path {\n    stroke: var(--accent-color);\n    opacity: 100%;\n  }\n\n  &:hover svg {\n    filter: drop-shadow(1px 1px 5px var(--accent-color));\n  }\n"]))),ee=z.Ay.span(Zn||(Zn=(0,_.A)(["\n  margin-right: 8px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 28px;\n  height: 28px;\n  border-radius: 6px;\n  background-color: var(--btn-icon-bg);\n  transition: all var(--easedTransition);\n\n  & svg {\n    stroke: var(--btn-icon-color);\n    transition: all var(--easedTransition);\n  }\n"]))),te=z.Ay.button(Jn||(Jn=(0,_.A)(["\n  margin-top: auto;\n  min-width: 100%;\n  min-height: 56px;\n  border: none;\n  border-radius: 8px;\n  background-color: var(--accent-color);\n  color: var(--btn-icon-bg);\n  font-weight: 500;\n  transition: all var(--easedTransition);\n\n  &:hover {\n    background-color: var(--accent-btn-hover);\n  }\n"]))),re=z.Ay.ul(Gn||(Gn=(0,_.A)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  margin-bottom: 14px;\n  border-radius: 8px;\n  padding: 5px;\n  background-color: ",";\n  width: 100%;\n  height: calc(100vh - 144px - 130px);\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 12px;\n  }\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  &::-webkit-scrollbar-track {\n    border-radius: 12px;\n  }\n\n  @media screen and (min-width: 375px) {\n    min-width: 350px;\n  }\n\n  @media screen and (min-width: 768px) {\n    min-width: 355px;\n    padding-right: 8px;\n    max-height: calc(100vh - 150px - 166px);\n  }\n\n  @media screen and (min-width: 1440px) {\n    max-height: calc(100vh - 118px - 106px);\n  }\n"])),n=>{let{$isOver:e}=n;return e?"var(--card-list-bg)":"transparent"}),oe=n=>{let{allColumns:e,column:t,isDragging:i=!1}=n;const[a,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),v=(0,o.wA)(),{t:b}=(0,u.Bd)(),m=(null===t||void 0===t?void 0:t._id)||"column-".concat(Date.now()),f=(0,o.d4)(n=>J.selectCardsByColumnId(n,m)),y=(0,r.useMemo)(()=>f.filter(n=>n&&n._id),[f]),k=(0,r.useMemo)(()=>y.map(n=>n._id),[y]),{attributes:w,listeners:j,setNodeRef:A,transform:C,transition:I,isDragging:L}=(0,h.gl)({id:m,data:{column:t}}),T={transform:H.Ks.Transform.toString(C),transition:I,opacity:L?.5:1,zIndex:L?999:"auto",position:"relative"},{setNodeRef:$,isOver:M}=(0,x.zM)({id:m,data:{column:t||{}}}),_=n=>{A(n),$(n)},z=(0,r.useMemo)(()=>()=>{null!==t&&void 0!==t&&t._id&&v((0,d.gR)(t._id)),g(!1)},[v,null===t||void 0===t?void 0:t._id]),S=(0,r.useMemo)(()=>()=>l(!0),[]),R=(0,r.useMemo)(()=>()=>g(!0),[]),E=(0,r.useMemo)(()=>()=>c(!0),[]);return t&&t._id?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(Qn,{ref:_,style:T,$isDragging:L||i,children:[(0,W.jsxs)(Yn,(0,q.A)((0,q.A)((0,q.A)({},w),j),{},{children:[(0,W.jsx)("h3",{children:t.title}),(0,W.jsxs)(Xn,{children:[(0,W.jsx)("li",{children:(0,W.jsx)(ne,{type:"button","aria-label":"Edit column title",onClick:S,children:(0,W.jsx)(G.A,{width:16,height:16,strokeColor:"var(--plus-icon-bg)"})})}),(0,W.jsx)("li",{children:(0,W.jsx)(ne,{id:"column-delete",type:"button","aria-label":"Delete column",onClick:R,children:(0,W.jsx)(Q.A,{width:16,height:16,strokeColor:"var(--plus-icon-bg)"})})})]})]})),0===y.length?(0,W.jsx)(Fn,{children:b("cards.empty")}):(0,W.jsx)(h.gB,{id:t._id,items:k,strategy:h._G,children:(0,W.jsx)(re,{ref:_,$isOver:M,children:y.map(n=>(0,W.jsx)("li",{children:(0,W.jsx)(zn,{allColumns:e||[],columnId:t._id,card:n})},n._id))})}),(0,W.jsxs)(te,{type:"button",onClick:E,children:[(0,W.jsx)(ee,{children:(0,W.jsx)(D.A,{width:14,height:14})}),b("cards.addButton")]})]}),a&&(0,W.jsx)(V,{variant:"edit",closeModal:()=>l(!1),columnId:t._id,columnName:t.title}),s&&(0,W.jsx)(an,{columnId:t._id,variant:"add",closeCardModal:()=>c(!1)}),p&&(0,W.jsx)(ln.A,{onClose:()=>g(!1),onConfirm:z})]}):null},ie=(0,r.memo)(oe),ae=n=>{let{board:e}=n;const[t,i]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null),[c,g]=(0,r.useState)(null),[v,m]=(0,r.useState)(null),{t:f}=(0,u.Bd)(),y=(0,o.wA)(),k=(0,o.d4)(b.selectSortedColumns);(0,r.useEffect)(()=>{e&&e._id&&y((0,d.tq)(e._id))},[e,y]);const w=(0,x.FR)((0,x.MS)(x.AN,{activationConstraint:{distance:3}}));return(0,W.jsxs)(Nn,{children:[k.length>0&&(0,W.jsxs)(x.Mp,{sensors:w,collisionDetection:x.y$,onDragStart:n=>{var e,t;const{data:r}=n.active;var o,i;null!==(e=r.current)&&void 0!==e&&e.card?(l(r.current.card),m(null===(o=r.current)||void 0===o||null===(i=o.sortable)||void 0===i?void 0:i.containerId)):null!==(t=r.current)&&void 0!==t&&t.column&&g(r.current.column)},onDragEnd:n=>{var t,r,o,i,a,c,p,u,x,b,m,f;l(null),g(null);const{active:w,over:j}=n;if(!j||!w||null===(t=w.data)||void 0===t||!t.current)return;const A=w.id,C=j.id;if(A===C)return;if(null!==(r=w.data.current)&&void 0!==r&&r.column&&null!==(o=j.data.current)&&void 0!==o&&o.column){const n=k.findIndex(n=>n._id===A),t=k.findIndex(n=>n._id===C);if(-1!==n&&-1!==t&&null!==e&&void 0!==e&&e._id){const r=(0,h.be)(k,n,t);y((0,d.Fh)({boardId:e._id,columns:r}))}return}if((null===(i=j.data.current)||void 0===i?void 0:i.sortable)&&(null===(a=w.data.current)||void 0===a||null===(c=a.sortable)||void 0===c?void 0:c.containerId)&&(null===(p=j.data.current)||void 0===p||null===(u=p.sortable)||void 0===u?void 0:u.containerId)&&(null===(x=w.data.current)||void 0===x?void 0:x.sortable.containerId)===(null===(b=j.data.current)||void 0===b?void 0:b.sortable.containerId)){if(void 0!==(null===(m=j.data.current)||void 0===m||null===(f=m.sortable)||void 0===f?void 0:f.index)&&v){const n=j.data.current.sortable.index;y((0,s.Zm)({cardId:A,columnId:v,order:n}))}}else{var I,D,L,T,$,M,_;const n=null!==(I=null===(D=j.data.current)||void 0===D||null===(L=D.sortable)||void 0===L?void 0:L.containerId)&&void 0!==I?I:(null===(T=j.data.current)||void 0===T?void 0:T.column)&&(null===($=j.data.current)||void 0===$?void 0:$.column._id),e=null===(M=w.data.current)||void 0===M||null===(_=M.sortable)||void 0===_?void 0:_.containerId;n&&e&&y((0,s.sQ)({cardId:A,newColumn:n,oldColumn:e}))}},autoScroll:{},children:[(0,W.jsx)(On,{children:k.map((n,e)=>(0,W.jsx)("li",{children:(0,W.jsx)(ie,{allColumns:k,column:n})},n._id||n.id||"col-".concat(e)))}),(0,p.createPortal)((0,W.jsxs)(x.Hd,{children:[a&&(0,W.jsx)(zn,{allColumns:k,columnId:v,card:a}),c&&(0,W.jsx)(ie,{column:c,allColumns:k,isDragging:!0})]}),document.body)]}),(0,W.jsxs)(Wn,{type:"button",onClick:()=>i(!0),children:[(0,W.jsx)(Pn,{children:(0,W.jsx)(D.A,{width:14,height:14})}),f("columns.addButton")]}),t&&(0,W.jsx)(V,{variant:"add",closeModal:()=>i(!1)})]})};var le,de;const se=z.Ay.div(le||(le=(0,_.A)(["\n  display: flex;\n  justify-content: space-between;\n\n  & h2 {\n    font-weight: 500;\n    font-size: 14px;\n    background-color: var(--background-color);\n    padding: 0 20px;\n    border-radius: 8px;\n\n    @media screen and (min-width: 768px) {\n      font-size: 18px;\n    }\n  }\n"]))),ce=z.Ay.button(de||(de=(0,_.A)(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  background-color: var(--background-color);\n  padding: 0 20px;\n  border-radius: 8px;\n  font-weight: 500;\n  font-size: 14px;\n  color: var(--text-color);\n  transition: all var(--easedTransition);\n\n  & svg {\n    stroke: var(--text-color);\n    fill: transparent;\n    transition: all var(--easedTransition);\n  }\n\n  &:hover {\n    color: var(--accent-btn-hover);\n    & svg {\n      stroke: var(--accent-btn-hover);\n    }\n  }\n"]))),pe=n=>{let{width:e,height:t,fillColor:r,strokeColor:o}=n;return(0,W.jsx)("svg",{width:e||"14px",height:t||"14px",viewBox:"0 0 16 16",fill:r||"none",stroke:o||null,xmlns:"http://www.w3.org/2000/svg",children:(0,W.jsx)("path",{d:"M14.6668 2H1.3335L6.66683 8.30667V12.6667L9.3335 14V8.30667L14.6668 2Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};var ue,xe,he,ge,ve,be,me,fe,ye,ke=t(1458);const we=z.Ay.div(ue||(ue=(0,_.A)(["\n  justify-content: space-between;\n  margin-bottom: 14px;\n"]))),je=z.Ay.h2(xe||(xe=(0,_.A)(["\n  font-size: 18px;\n  font-weight: 500;\n  line-height: normal;\n"]))),Ae=z.Ay.div(he||(he=(0,_.A)(["\n  display: flex;\n  border-top: 1px solid var(--underline-color);\n  margin-bottom: 14px;\n  padding-top: 14px;\n"]))),Ce=z.Ay.h3(ge||(ge=(0,_.A)(["\n  display: flex;\n  flex-shrink: 0;\n  margin-right: auto;\n  font-weight: 500;\n  line-height: normal;\n"]))),Ie=z.Ay.button(ve||(ve=(0,_.A)(["\n  color: var(--lightgrey-text-color);\n  font-size: 12px;\n  line-height: normal;\n  letter-spacing: -0.24px;\n  background-color: inherit;\n  text-decoration-line: underline;\n\n  @media screen and (min-width: 768px) {\n    &:hover,\n    &:focus {\n      color: var(--text-color);\n    }\n  }\n"]))),De=z.Ay.div(be||(be=(0,_.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  color: var(--lightgrey-text-color);\n"]))),Le=z.Ay.input(me||(me=(0,_.A)(["\n  position: absolute;\n  z-index: 999;\n  cursor: pointer;\n  top: 4px;\n  left: 0;\n  border-radius: 50%;\n  margin: 0;\n  width: 14px;\n  height: 14px;\n  opacity: 0;\n"]))),Te=z.Ay.span(fe||(fe=(0,_.A)(["\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: outline 50ms linear;\n  background-color: ",";\n"])),n=>{let{$color:e}=n;return"var(--priority-".concat(e,")")}),$e=z.Ay.label(ye||(ye=(0,_.A)(["\n  font-size: 14px;\n  position: relative;\n  display: inline-flex;\n  gap: 8px;\n  justify-content: center;\n  align-items: center;\n  color: var(--lightgrey-text-color);\n  cursor: pointer;\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n\n  input[type='radio']:checked + "," {\n    outline: ",";\n    /* box-shadow: ","; */\n    border: 2px solid var(--modal-background);\n  }\n\n  @media screen and (min-width: 768px) {\n    &:hover,\n    &:focus {\n      color: var(--text-color);\n    }\n  }\n"])),Te,n=>{let{$color:e}=n;return"1px solid var(--priority-".concat(e,")")},n=>{let{$color:e}=n;return"0 0 0 1px solid var(--priority-".concat(e,")")}),Me=n=>{let{boardId:e,onClose:t}=n;const[i,l]=(0,r.useState)(""),{t:d}=(0,u.Bd)(),c=(0,o.wA)(),p=[(0,q.A)({},T.$N.find(n=>3===n.id)),...T.$N.filter(n=>3!==n.id)];return(0,W.jsxs)(ke.A,{width:300,onClose:t,children:[(0,W.jsx)(we,{children:(0,W.jsx)(je,{children:d("boards.filterButton")})}),(0,W.jsxs)(Ae,{children:[(0,W.jsx)(Ce,{children:d("boards.filter.label")}),(0,W.jsx)(Ie,{type:"button",onClick:()=>{c((0,a.lP)(e)),t()},children:d("boards.filter.all")})]}),(0,W.jsx)(De,{children:p.map(n=>{let{id:r,priority:o,color:a}=n;return(0,W.jsxs)($e,{$color:a,children:[(0,W.jsx)(Le,{type:"radio",name:"priority",value:o,checked:i===o,$color:a,onChange:()=>{return l(n=o),c((0,s.Ew)({boardId:e,priority:n})),void t();var n}}),(0,W.jsx)(Te,{$color:a}),d("boards.filter.".concat(o))]},r)})})]})},_e=n=>{let{title:e,boardId:t}=n;const{t:o}=(0,u.Bd)(),[i,a]=(0,r.useState)(!1);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(se,{children:[(0,W.jsx)("h2",{children:e}),(0,W.jsxs)(ce,{type:"button",onClick:()=>{a(!0)},children:[(0,W.jsx)(pe,{width:14,height:14}),o("boards.filterButton")]})]}),i&&(0,W.jsx)(Me,{boardId:t,onClose:()=>a(!1)})]})};var ze=t(70537),Se=t(70601);const Re=()=>{const{boardId:n}=(0,i.g)(),e=(0,o.wA)(),t=(0,o.d4)(l.$N),p=(0,o.d4)(l.Di);if((0,r.useEffect)(()=>{n&&e((0,a.lP)(n)).then(()=>e((0,d.tq)(n))).then(()=>e((0,s.J)())).catch(n=>console.error("\u274c Eroare la \xeenc\u0103rcarea datelor:",n))},[e,n]),(0,r.useEffect)(()=>{t&&console.log("\ud83e\udde9 board.background:",t.background)},[t]),!p&&!t)return(0,W.jsx)(i.C5,{to:"/home",replace:!0});if(p||!t)return(0,W.jsx)(ze.A,{});const u=(n=>{if(!n)return null;if(n.startsWith("http"))return{backgroundMobileURL:n,backgroundMobile2xURL:n,backgroundTabletURL:n,backgroundTablet2xURL:n,backgroundDesktopURL:n,backgroundDesktop2xURL:n};if(n.startsWith("bg-")){const e=Number(n.replace("bg-","")),t=Se.A.find(n=>n.id===e);return t?{backgroundMobileURL:t.mobile,backgroundMobile2xURL:t.mobile,backgroundTabletURL:t.tablet,backgroundTablet2xURL:t.tablet,backgroundDesktopURL:t.desktop,backgroundDesktop2xURL:t.desktop}:null}return null})(t.background);return(0,W.jsxs)(c.J,{$bg:u,children:[(0,W.jsx)(_e,{title:t.title,boardId:n}),(0,W.jsx)(ae,{board:t})]})}}}]);
//# sourceMappingURL=431.d7402761.chunk.js.map